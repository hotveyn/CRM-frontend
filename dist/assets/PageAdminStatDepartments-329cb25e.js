import{v as S,d as f,f as v,g as l,a as e,o as r,i as p,p as c,k as D,z as k,w as b,h as u,c as _,b as h,_ as y}from"./index-19bdbec0.js";import{u as w}from"./stat.service-0c95afa6.js";import{N,a as x}from"./Skeleton-daacf131.js";import{N as B}from"./Divider-c7a65899.js";import{N as P}from"./DatePicker-e148cf46.js";import"./get-cb4eec91.js";import"./use-locale-b60157c8.js";import"./get-slot-1efb97e5.js";import"./Select-34ee482a.js";import"./cssr-95c10af3.js";import"./Suffix-e9335d58.js";import"./Empty-101753d0.js";import"./ChevronRight-bb8cf647.js";import"./Forward-23539524.js";import"./Input-96dcc6c7.js";const q=w(),z=S("stat-departments",{state:()=>({stat:[]}),actions:{async request(n,t){this.stat=await q.getDepartmentsStat(n,t)}}}),A={class:"table-fired"},C=f({__name:"TableStatDepartments",props:{tableData:{}},setup(n){const t=s();function s(){return[{title:"Отдел",key:"department_name",sorter:"default"},{title:"Завершённые этапы",key:"stages",sorter:"default"},{title:"Количество брака",key:"stages_break",sorter:"default"},{title:"Процент брака",key:"break_percent",sorter:"default"}]}return(o,a)=>(r(),v("div",A,[l(e(N),{"single-line":!1,data:o.tableData,columns:e(t),pagination:{pageSize:30},bordered:!0},null,8,["data","columns"])]))}}),I={class:"admin-stat-departments"},M={class:"date-range",style:{"margin-bottom":"30px"}},O={class:"admin-stat-departments__table"},T=f({__name:"PageAdminStatDepartments",setup(n){const t=z(),s=p(!0),o=Date.now()-26784e5,a=p([o,Date.now()]),d=c(()=>new Date(a.value[0]).toISOString()),i=c(()=>new Date(a.value[1]).toISOString());return D(async()=>{await t.request(d.value,i.value),s.value=!1}),k(i,async()=>{await t.request(d.value,i.value)}),(V,m)=>(r(),v("div",I,[l(e(B),{"title-placement":"left"},{default:b(()=>[h("Статистика по отделам")]),_:1}),u("div",M,[l(e(P),{value:a.value,"onUpdate:value":m[0]||(m[0]=g=>a.value=g),type:"daterange"},null,8,["value"])]),u("div",O,[s.value?(r(),_(e(x),{key:0,width:"100%",height:"52px",sharp:!1,text:"",size:"medium",repeat:5})):(r(),_(C,{key:1,"table-data":e(t).stat},null,8,["table-data"]))])]))}});const Z=y(T,[["__scopeId","data-v-93deaa45"]]);export{Z as default};
