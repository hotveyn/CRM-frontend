import{v as S,d as f,f as v,g as l,a as e,o as r,i as m,p,k as D,z as k,w as b,h as u,c as _,b as h,_ as y}from"./index-d984cb3f.js";import{u as w}from"./stat.service-9cac69ea.js";import{N,a as x}from"./Skeleton-55fba634.js";import{N as B}from"./Divider-3b8a0140.js";import{N as P}from"./DatePicker-733a28d2.js";import"./Suffix-1503a4d0.js";import"./use-locale-a395fdef.js";import"./get-slot-1efb97e5.js";import"./Select-e7814547.js";import"./cssr-8508e2c6.js";import"./Empty-6784262f.js";import"./ChevronRight-6d735159.js";import"./Forward-3e9c650f.js";import"./Input-a24dfb38.js";const q=w(),z=S("stat-departments",{state:()=>({stat:[]}),actions:{async request(n,t){this.stat=await q.getDepartmentsStat(n,t)}}}),A={class:"table-fired"},C=f({__name:"TableStatDepartments",props:{tableData:{}},setup(n){const t=s();function s(){return[{title:"Отдел",key:"department_name",sorter:"default"},{title:"Завершённые этапы",key:"stages",sorter:"default"},{title:"Количество брака",key:"stages_break",sorter:"default"},{title:"Процент брака",key:"break_percent",sorter:"default"}]}return(o,a)=>(r(),v("div",A,[l(e(N),{"single-line":!1,data:o.tableData,columns:e(t),pagination:{pageSize:30},bordered:!0},null,8,["data","columns"])]))}}),I={class:"admin-stat-departments"},M={class:"date-range",style:{"margin-bottom":"30px"}},O={class:"admin-stat-departments__table"},T=f({__name:"PageAdminStatDepartments",setup(n){const t=z(),s=m(!0),o=Date.now()-26784e5,a=m([o,Date.now()]),d=p(()=>new Date(a.value[0]).toISOString()),i=p(()=>new Date(a.value[1]).toISOString());return D(async()=>{await t.request(d.value,i.value),s.value=!1}),k(i,async()=>{await t.request(d.value,i.value)}),(V,c)=>(r(),v("div",I,[l(e(B),{"title-placement":"left"},{default:b(()=>[h("Статистика по отделам")]),_:1}),u("div",M,[l(e(P),{value:a.value,"onUpdate:value":c[0]||(c[0]=g=>a.value=g),type:"daterange"},null,8,["value"])]),u("div",O,[s.value?(r(),_(e(x),{key:0,width:"100%",height:"52px",sharp:!1,text:"",size:"medium",repeat:5})):(r(),_(C,{key:1,"table-data":e(t).stat},null,8,["table-data"]))])]))}});const Y=y(T,[["__scopeId","data-v-93deaa45"]]);export{Y as default};
