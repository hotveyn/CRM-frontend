import{y as n,t as c,v as m}from"./index-62384645.js";function p(){return{async getDepartments(){return(await n.get("department")).data},async remove(e){return(await n.delete(`department/${e}`)).data},async create(e){return(await n.post("department",e)).data},async update(e,t){return(await n.patch(`department/${e}`,t)).data}}}const s=p(),r=c(),o=m("departments",{state:()=>({departments:[]}),actions:{async getOrRequest(){this.departments=await s.getDepartments()},async request(){this.departments=await s.getDepartments()},async remove(e){s.remove(e).then(()=>{r.department.removed(),this.departments=this.departments.filter(t=>t.id!==e)}).catch(t=>r.error.custom(t.response.data.message))},findById(e){return this.departments.find(t=>t.id===e)},async create(e){s.create(e).then(()=>{r.department.created()}).catch(t=>r.error.custom(t.response.data.message))},async update(e,t){return s.update(e,t).then(()=>{r.department.updated();const a=this.departments.findIndex(d=>d.id===e);a!==-1&&(this.departments[a].name=t.name)}).catch(a=>{a.response.data.message})}}});export{o as a,p as u};
