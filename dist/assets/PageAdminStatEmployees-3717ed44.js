import{d as f,f as y,g as i,a,m as g,o as r,v as S,i as d,p as u,k as h,z as k,w as b,h as c,c as _,b as w,_ as x}from"./index-62384645.js";import{a as N}from"./Select-8ae686c1.js";import{N as D,a as E}from"./Skeleton-a17865c3.js";import{u as T}from"./stat.service-8a00fe09.js";import{N as B}from"./Divider-bdda2be5.js";import{N as P}from"./DatePicker-e6b61f2e.js";import"./use-locale-a4cb9846.js";import"./cssr-1cbf0123.js";import"./Suffix-86caeb40.js";import"./get-806e042e.js";import"./Empty-6144791c.js";import"./get-slot-1efb97e5.js";import"./ChevronRight-7e3f7794.js";import"./Forward-d200b360.js";import"./Input-c95d618b.js";const q={class:"table-stat-employee"},z=f({__name:"TableStatEmployees",props:{tableData:{}},setup(n){function e(){return[{title:"Номер",key:"code",sorter:"default"},{title:"ФИО",key:"full_name",sorter:"default"},{title:"Завершённые этапы",key:"stages",sorter:"default"},{title:"Брак",key:"stages_break",sorter:"default"},{title:"Процент брака",key:"break_percent",sorter:"default"},{title:"Отделы",key:"departments",render(t){return t.departments.map(s=>g(N,{style:{marginRight:"6px",marginTop:"6px",width:"100%",maxWidth:"100px"},type:"info",bordered:!1},{default:()=>s.name}))}}]}return(t,s)=>(r(),y("div",q,[i(a(D),{data:t.tableData,"single-line":!1,columns:e(),pagination:{pageSize:30},bordered:!0},null,8,["data","columns"])]))}}),A=T(),C=S("stat-employees",{state:()=>({stat:[]}),actions:{async request(n,e){this.stat=await A.getEmployeesStat(n,e)}}}),I={class:"admin-stat-employees"},M={class:"date-range",style:{"margin-bottom":"30px"}},O={class:"admin-stat-employees__table"},V=f({__name:"PageAdminStatEmployees",setup(n){const e=C(),t=d(!0),s=Date.now()-26784e5,o=d([s,Date.now()]),m=u(()=>new Date(o.value[0]).toISOString()),l=u(()=>new Date(o.value[1]).toISOString());return h(async()=>{await e.request(m.value,l.value),t.value=!1}),k(l,async()=>{await e.request(m.value,l.value)}),($,p)=>(r(),y("div",I,[i(a(B),{"title-placement":"left"},{default:b(()=>[w("Статистика по сотрудникам")]),_:1}),c("div",M,[i(a(P),{value:o.value,"onUpdate:value":p[0]||(p[0]=v=>o.value=v),type:"daterange"},null,8,["value"])]),c("div",O,[t.value?(r(),_(a(E),{key:0,width:"100%",height:"52px",sharp:!1,text:"",size:"medium",repeat:5})):(r(),_(z,{key:1,"table-data":a(e).stat},null,8,["table-data"]))])]))}});const te=x(V,[["__scopeId","data-v-d2f410c5"]]);export{te as default};
