import{d,f as m,g as p,a as s,o as l,m as i,N as u,n as g,i as h,k as _,w as y,c,b as N}from"./index-3479dd01.js";import{u as k}from"./orders-resources.store-705a640b.js";import{N as b,a as x}from"./Skeleton-c3879c1d.js";import{N as E}from"./Divider-e31872c8.js";import"./order.service-0174a547.js";import"./Suffix-cc808f9e.js";import"./use-locale-ad4756e2.js";import"./get-slot-1efb97e5.js";import"./Select-1f7edc5b.js";import"./cssr-95788e2e.js";import"./Empty-9a754558.js";import"./ChevronRight-08fa84b8.js";import"./Forward-150f3a5e.js";import"./Input-bda83dc5.js";const S={class:"table-orders-new"},v=d({__name:"TableOrdersResourcesNotEnough",props:{tableData:{}},emits:["setNull","enough"],setup(f,{emit:a}){const t=r({setNull:e=>a("setNull",e),enough:e=>a("enough",e)});function r(e){return[{title:"Код",key:"code",sorter:"default"},{title:"Название",key:"name",sorter:"default"},{title:"Дата начала",key:"date_start",sorter:"default"},{title:"Дата сдачи",key:"date_end",sorter:"default"},{title:"Тип",key:"type.name",sorter:"default"},{title:"Стоимость",key:"price",sorter:"default"},{title:"Комментарий",key:"comment",sorter:"default"},{title:"Действия",key:"actions",width:110,render(o){return[i(u,{type:"primary",size:"small",style:{marginRight:"6px"},onClick:()=>e.enough(o.id)},{default:()=>"Хватает"}),i(u,{type:"default",size:"small",style:{marginRight:"6px"},onClick:()=>e.setNull(o.id)},{default:()=>"Отменить"})]}}]}return(e,o)=>(l(),m("div",S,[p(s(b),{"single-line":!1,data:e.tableData,columns:s(t),pagination:{pageSize:30},bordered:!0},null,8,["data","columns"])]))}}),w={class:"storage-orders-not-enough"},F=d({__name:"PageStorageOrdersNotEnough",setup(f){const a=g(),t=k(),r=h(!0);async function e(n){a.confirm(async()=>{await t.setResourcesNull(n)})}async function o(n){a.confirm(async()=>{await t.setEnough(n)})}return _(async()=>{await t.requestNotEnough(),r.value=!1}),(n,R)=>(l(),m("div",w,[p(s(E),{"title-placement":"left"},{default:y(()=>[N("Заказы с недостатком материалов")]),_:1}),r.value?(l(),c(s(x),{key:0,width:"100%",height:"52px",sharp:!1,text:"",size:"medium",repeat:5})):(l(),c(v,{key:1,"table-data":s(t).ordersNotEnough,onSetNull:e,onEnough:o},null,8,["table-data"]))]))}});export{F as default};
