import{i as d,j as N,k as C,d as _,o as c,c as b,w as s,g as r,a as e,b as f,l as B,N as g,f as y,_ as x}from"./index-611e9b0c.js";import{a as F}from"./departments.store-ddc191d6.js";import{u as h}from"./breaks.store-7c2705b8.js";import{N as w}from"./Input-c7379108.js";import{N as p,a as S}from"./FormItem-856fbc7c.js";import{N as V}from"./Select-a37c4bef.js";import{N as q}from"./Divider-15a26f45.js";import"./use-locale-88ac332a.js";import"./Suffix-6415451c.js";import"./get-2fdf10cf.js";import"./cssr-4e584e7e.js";import"./Empty-c66f08c7.js";function A(){const u={name:{required:!0,message:"Введите название брака"},department_id:{required:!0,message:"Выбирите отдел ответственный за этот брак"}},o=d([]),n=N({name:"",department_id:null});return C(async()=>{const m=F();await m.request(),m.departments.forEach(a=>{o.value.push({label:a.name,value:a.id})})}),{options:o,rules:u,formValues:n}}const I=_({__name:"FormBreakCreate",setup(u){const o=d(),n=h(),{rules:m,formValues:a,options:v}=A();async function k(){var i;(i=o.value)==null||i.validate(async t=>{t||await n.create(a)})}return(i,t)=>(c(),b(e(S),{ref_key:"breakCreateFormRef",ref:o,rules:e(m),model:e(a),class:"break-create-form"},{default:s(()=>[r(e(p),{label:"Название брака",path:"name"},{default:s(()=>[r(e(w),{value:e(a).name,"onUpdate:value":t[0]||(t[0]=l=>e(a).name=l),placeholder:""},null,8,["value"])]),_:1}),r(e(p),{label:"Ответственный отдел",path:"department_id"},{default:s(()=>[r(e(V),{value:e(a).department_id,"onUpdate:value":t[1]||(t[1]=l=>e(a).department_id=l),placeholder:"",options:e(v),remote:""},null,8,["value","options"])]),_:1}),r(e(g),{type:"primary",onClick:t[2]||(t[2]=B(l=>k(),["prevent"]))},{default:s(()=>[f(" Создать ")]),_:1})]),_:1},8,["rules","model"]))}}),P={class:"admin-break-create"},D=_({__name:"PageAdminBreaksCreate",setup(u){return(o,n)=>(c(),y("div",P,[r(e(q),null,{default:s(()=>[f("Добавить новый вид брака и закрепить его за отделом")]),_:1}),r(I)]))}});const L=x(D,[["__scopeId","data-v-574b458a"]]);export{L as default};
