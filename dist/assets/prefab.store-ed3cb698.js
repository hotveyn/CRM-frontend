import{y as s,t as p,v as o}from"./index-611e9b0c.js";import{u as i}from"./orderTypes.store-de919220.js";function d(){return{async create(r){return(await s.post("prefab",r)).data},async getAll(){return(await s.get("prefab")).data},async update(r,e){return(await s.patch(`prefab/${r}`,e)).data},async remove(r){return(await s.delete(`prefab/${r}`)).data}}}const n=d(),a=p(),b=o("prefabs",{state:()=>({prefabs:[]}),actions:{async request(){this.prefabs=await n.getAll()},async remove(r){n.remove(r).then(()=>{a.prefab.removed(),this.prefabs=this.prefabs.filter(e=>e.id!==r)}).catch(e=>a.error.custom(e.response.data.message))},async create(r){n.create(r).then(e=>{a.prefab.created(),this.prefabs.push(e)}).catch(e=>a.error.custom(e.response.data.message))},findById(r){return this.prefabs.find(e=>e.id===r)},async update(r,e){n.update(r.id,e).then(async()=>{a.prefab.updated();const t=this.findById(r.id),c=await i().findById(e.type_id);t&&(t.name=e.name,t.type_id=e.type_id,t.type=c,t.price=e.price,t.comment=e.comment)}).catch(t=>a.error.custom(t.response.data.message))}}});export{b as u};
